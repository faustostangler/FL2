@startuml
skinparam componentStyle rectangle
skinparam defaultTextAlignment center

' === NÚCLEO DOMÍNIO ===

package "Domain (Core)" {
  interface CompanyRepositoryPort
  interface NSDRepositoryPort
  interface DocumentRepositoryPort
  interface MetricsRepositoryPort

  class CompanyDTO
  class NSDDTO
  class DocumentDTO
  class MetricsDTO

  class CompanyUseCase
  class NSDUseCase
  class DocumentUseCase
  class MetricsUseCase

  CompanyUseCase --> CompanyRepositoryPort
  NSDUseCase --> NSDRepositoryPort
  DocumentUseCase --> DocumentRepositoryPort
  MetricsUseCase --> MetricsRepositoryPort
}

' === CAMADA DE APLICAÇÃO ===

package "Application (Services)" {
  class CompanyService
  class NSDService
  class DocumentService
  class MetricsService

  CompanyService --> CompanyUseCase
  NSDService --> NSDUseCase
  DocumentService --> DocumentUseCase
  MetricsService --> MetricsUseCase
}

' === INFRAESTRUTURA: Adaptadores ===

package "Infrastructure (Adapters)" {
  class SQLCompanyRepository
  class SeleniumNSDRepository
  class HTMLDocumentAdapter
  class MetricsDBRepository

  SQLCompanyRepository ..|> CompanyRepositoryPort
  SeleniumNSDRepository ..|> NSDRepositoryPort
  HTMLDocumentAdapter ..|> DocumentRepositoryPort
  MetricsDBRepository ..|> MetricsRepositoryPort
}

' === BORDAS (DRIVERS): Processadores ===

package "Processors (Drivers)" {
  class CompanyProcessor
  class NSDProcessor
  class DocumentProcessor
  class MetricsProcessor

  CompanyProcessor --> CompanyService
  NSDProcessor --> NSDService
  DocumentProcessor --> DocumentService
  MetricsProcessor --> MetricsService
}

@enduml
